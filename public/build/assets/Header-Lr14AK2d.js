var D=Object.defineProperty;var W=(c,i,r)=>i in c?D(c,i,{enumerable:!0,configurable:!0,writable:!0,value:r}):c[i]=r;var f=(c,i,r)=>(W(c,typeof i!="symbol"?i+"":i,r),r);import{j as e}from"./AboutHeader-CpM0iYLI.js";import{r as l}from"./index-B80Lgev0.js";import{a as O}from"./Detail-BgZZluG9.js";import{m as k}from"./main-Br9xqDfn.js";import{B as H}from"./Results-B-D6O2Fz.js";class Q extends H{constructor(){super(...arguments);f(this,"path","generals");f(this,"getSocials",async()=>{try{const{status:r,result:a}=await k.Fetch(`/api/${this.path}/get-socials`,{method:"GET"});if(!r)throw new Error((a==null?void 0:a.message)??"Ocurrió un error al consultar");return(a==null?void 0:a.data)??[]}catch(r){return console.error("Error en getSocials:",r),[]}});f(this,"getBenefits",async()=>{try{const{status:r,result:a}=await k.Fetch(`/api/${this.path}/get-benefits`,{method:"GET"});if(!r)throw new Error((a==null?void 0:a.message)??"Ocurrió un error al consultar");return(a==null?void 0:a.data)??[]}catch(r){return console.log("Error en getSocials:",r),[]}});f(this,"getAboutuses",async()=>{try{const{status:r,result:a}=await k.Fetch(`/api/${this.path}/get-aboutuses`,{method:"GET"});if(!r)throw new Error((a==null?void 0:a.message)??"Ocurrió un error al consultar");return(a==null?void 0:a.data)??[]}catch(r){return console.error("Error en getAboutuses:",r),[]}})}}const V=new Q,ee=({session:c,showSlogan:i=!0,gradientStart:r,menuGradientEnd:a,backgroundType:d="none",backgroundSrc:E="",backgroundHeight:B="h-full",backgroundPosition:C="object-top",children:S})=>{const[p,g]=l.useState(!1),j=l.useRef(null),w=l.useRef(null),{incrementarCantidad:I,decrementarCantidad:A}=l.useContext(O),L=s=>{s.target.closest(".menu-toggle")?g(!p):g(!1)};l.useEffect(()=>{const s=t=>{w.current==t.target||w.current.contains(t.target)||j.current&&!j.current.contains(t.target)&&g(!1)};return document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[]);const[b,q]=l.useState(!1);l.useEffect(()=>{const s=()=>{q(window.scrollY>1)};return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},[]);const{carrito:x,eliminarProducto:P,agregarAlCarrito:M}=l.useContext(O);let N=[];for(const s of x)if(s.ad&&s.ad.banner_image&&s.ad.offer_item){const t=s.ad.offer_item.id;x.some(o=>o.id===t)||N.push(s.ad)}const[F,_]=l.useState(!1),h=x.reduce((s,t)=>t.variations&&t.variations.length>0?s+t.variations.reduce((n,o)=>n+o.quantity,0):s+t.quantity,0);l.useEffect(()=>{h>0&&(_(!0),setTimeout(()=>_(!1),500))},[h]);const[v,y]=l.useState(!1),z=x.reduce((s,t)=>t.variations&&t.variations.length>0?s+t.variations.reduce((n,o)=>n+t.final_price*o.quantity,0):s+t.final_price*t.quantity,0),[u,G]=l.useState([]);l.useEffect(()=>{(async()=>{try{const t=await V.getSocials();G(t)}catch(t){console.error("Error fetching socials:",t)}})()},[]);const R=u.find(s=>s.description==="TikTok"),m=u.find(s=>s.description==="WhatsApp"),$=u.find(s=>s.description==="Instagram"),T=u.find(s=>s.description==="Facebook");return e.jsxs(e.Fragment,{children:[i&&e.jsxs("div",{className:`text-center px-[5%] py-4 font-light bg-[#6048B7] text-white text-[10.21px] md:text-[16.21px] leading-6 uppercase tracking-[0.2em] font-poppins w-full  ${d==="none"&&"mb-10 lg:mb-[78px] "}`,children:[e.jsx("span",{className:"text-[#DDEC4C] font-semibold",children:"¡ENVÍO GRATIS"})," ","A TODO LIMA METROPOLITANA!"]}),e.jsxs("div",{className:`w-full max-w-full relative ${B} overflow-clip `,children:[d==="image"&&e.jsx("img",{src:E,className:`absolute -z-10 inset-0 w-screen h-full  object-cover ${C}`,alt:"Background"}),d==="video"&&e.jsx("video",{className:`absolute -z-10 inset-0  w-screen h-full  object-cover ${C}`,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,preload:"auto",disablePictureInPicture:!0,disableRemotePlayback:!0,"webkit-playsinline":"true",children:e.jsx("source",{src:E,type:"video/mp4"})}),(d==="image"||d==="video")&&e.jsx("div",{className:"absolute inset-0 ",style:{background:"linear-gradient(180deg, rgba(95, 72, 183, 0.75) 6.08%, rgba(96, 72, 183, 0.525) 100%)"}}),e.jsxs("header",{className:`font-poppins fixed lg:w-full top-0 overflow-hidden z-40 transition-colors duration-300 ${d==="none"?"bg-[#5339B1] mt-12 ":b?"bg-[#5339B1]  pt-0 !mt-0 ":"bg-transparent top-4 pt-8 md:pt-14 lg:pt-10"} ${b&&"bg-[#5339B1]  pt-0 !mt-0 transition-all duration-150 "}`,children:[e.jsxs("div",{className:"px-[5%] w-screen py-4 lg:py-0 lg:max-w-7xl 2xl:max-w-[92rem] mx-auto flex  justify-between items-center text-white shadow-lg lg:shadow-none ",children:[e.jsxs("div",{className:"flex items-center w-full  lg:hidden",children:[e.jsx("button",{ref:w,onClick:L,className:"text-white pr-4 md:pr-6 menu-toggle ","aria-label":"Toggle menu",children:e.jsx("i",{className:`fas ${p?"fa-times":"fa-bars"} text-lg md:text-2xl`})}),e.jsx("a",{href:"/",children:e.jsx("img",{src:"/assets/img/logo.png",alt:"WeFem Logo",className:"h-[20px] w-[120.55px] md:h-[36.8px] md:w-[210.55px] object-cover object-top"})})]}),e.jsxs("div",{className:"hidden lg:flex py-6 mx-auto w-full justify-between items-center font-normal text-[16px] leading-[18.55px] tracking-widest",children:[e.jsxs("nav",{className:"flex gap-6 ",children:[e.jsx("a",{href:"/catalog",children:"Tienda"}),e.jsx("a",{href:"/instructions",children:"¿Cómo usar?"}),e.jsx("a",{href:"/about",children:"Nosotrxs"}),e.jsx("a",{href:"/quiz",children:"Quiz"})]}),e.jsx("a",{href:"/",className:"flex justify-start",children:e.jsx("img",{src:"/assets/img/logo.png",alt:"Wefem",className:"h-[40px] w-[230.55px] object-cover object-top",style:{textShadow:"0px 4px 7.5px 0px #00000040"}})}),e.jsxs("div",{className:"flex space-x-4 text-[21.93px] items-center",children:[e.jsx("span",{className:"text-[16px]",children:"Escríbenos"}),m&&e.jsx("a",{href:m.link,target:"_blank",className:"flex justify-center items-center cursor-pointer",children:e.jsx("i",{className:"fa-brands fa-whatsapp"})}),$&&e.jsx("a",{href:$.link,target:"_blank",className:"flex justify-center items-center",children:e.jsx("i",{className:"fa-brands fa-instagram"})}),T&&e.jsx("a",{href:T.link,target:"_blank",className:"flex justify-center items-center",children:e.jsx("i",{className:"fa-brands fa-facebook"})}),R&&e.jsx("a",{href:R.link,target:"_blank",children:e.jsx("i",{className:"fa-brands fa-tiktok"})}),e.jsxs("button",{onClick:()=>y(!v),className:"relative",children:[e.jsx("i",{className:"fas fa-shopping-cart"}),e.jsx("span",{className:`absolute -top-1 -right-1 bg-[#FF9900] text-white rounded-full w-3 h-3 flex items-center justify-center text-[10px] font-medium transition-transform ${F?"scale-150":"scale-100"}`,style:{transition:"transform 0.3s ease-in-out"},children:h})]})]})]}),e.jsx("div",{className:" lg:hidden text-base",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("a",{href:"/quiz",children:"Quiz"}),m&&e.jsx("a",{href:m.link,target:"_blank",className:"flex justify-center items-center cursor-pointer",children:e.jsx("i",{className:"fa-brands fa-whatsapp"})}),e.jsxs("button",{onClick:()=>y(!v),className:"relative",children:[e.jsx("i",{className:"fas fa-shopping-cart"}),e.jsx("span",{className:`absolute -top-1 -right-1 bg-[#FF9900] text-white rounded-full w-3 h-3 flex items-center justify-center text-[7px] font-medium transition-transform ${F?"scale-150":"scale-100"}`,style:{transition:"transform 0.3s ease-in-out"},children:h})]})]})})]}),m&&e.jsx("div",{className:"flex justify-end w-full mx-auto z-[100] relative  ",children:e.jsx("div",{className:"fixed bottom-3 right-2 md:bottom-[1rem] lg:bottom-[2rem] lg:right-3 z-20 cursor-pointer",children:e.jsx("a",{target:"_blank",id:"whatsapp-toggle",href:m.link,children:e.jsx("img",{src:"/assets/img/whatsapp.svg",alt:"whatsapp",className:"mr-3 w-16 h-16 md:w-[80px] md:h-[80px]  animate-bounce duration-300"})})})})]}),e.jsx("div",{ref:j,className:`fixed   md:top-20 inset-0 text-white z-[999] transform ${p?"opacity-1 block ":"hidden opacity-0 "} ${b?"top-[3.75rem] bg-[#5339B1]":"top-24 bg-[#5339B1]"} transition-transform duration-300 ease-in-out p-[5%] h-max overflow-y-auto `,children:e.jsxs("ul",{className:"flex flex-col gap-4 items-center justify-center",children:[e.jsx("li",{children:e.jsx("a",{href:"/catalog",children:"Tienda"})}),e.jsx("li",{children:e.jsx("a",{href:"/instructions",children:"¿Cómo usar?"})}),e.jsx("li",{children:e.jsx("a",{href:"/about",children:"Nosotrxs"})}),e.jsx("li",{children:e.jsx("a",{href:"/quiz",children:"Quiz"})})]})}),S&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-center text-white p-6",children:S}),v&&e.jsx(e.Fragment,{children:e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-start justify-end px-[5%] lg:px-0 pt-12 pb-12 overflow-y-auto z-50 scrollbar-hide",children:e.jsxs("div",{className:"bg-[#EFE5FF] shadow-lg w-full sm:max-w-[380px] lg:max-w-[500px]  h-max    p-8 lg:p-14 rounded-[30px]  lg:rounded-[50px] ",children:[e.jsxs("div",{className:"flex justify-between items-center  ",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Tu Carrito"}),e.jsx("button",{onClick:()=>y(!1),className:"text-lg font-bold text-[#5F48B7]",children:"✖"})]}),e.jsxs("div",{className:"bg-[#9C79D4] py-2 text-lg mt-4 mb-8 text-center rounded-[14px]  lg:rounded-[20px]  text-white",children:["¡Tienes envío gratis en LIMA!"," ",e.jsx("img",{src:"/assets/img/emojis/motor-scooter.png",className:"h-[16.88px] lg:h-[26.88px] inline-flex ml-2"})," "]}),e.jsx("div",{className:"flex-1  gap-4",children:x.length===0?e.jsxs("div",{className:"w-full flex flex-col items-center justify-center gap-5 text-3xl h-max my-5",children:[e.jsx("img",{src:"/assets/img/logo.png",alt:"Wefem",className:"h-[58px] w-[330.55px] object-cover object-top",style:{textShadow:"0px 4px 7.5px 0px #00000040"}}),e.jsx("p",{className:"text-center text-gray-500 ",children:"Tu carrito está vacío"})]}):x.map((s,t)=>e.jsxs("div",{className:"flex items-center gap-4  mb-4 w-full",children:[e.jsx("img",{src:`/api/items/media/${s.image}`,alt:s.name,onError:n=>n.target.src="/api/cover/thumbnail/null",className:"w-20 h-20 md:w-28 md:h-28  object-cover"}),e.jsxs("div",{className:" flex flex-col w-[calc(100%-5rem)] md:w-[calc(100%-7rem)] ",children:[e.jsxs("div",{className:"w-full flex",children:[e.jsxs("div",{className:"w-5/6 lg:w-8/12",children:[e.jsx("h3",{className:"text-xl  font-normal leading-3 md:leading-[20.78px] ",children:s.name}),s.summary&&e.jsxs("p",{className:"text-[10px] md:text-xs    font-light inline-flex truncate",children:["(",s.summary,")"]}),s.discount&&e.jsxs("p",{className:"w-11/12 md:w-full h-[18.55px]   md:h-[25.55px]    bg-[#212529]  text-white rounded-[5.44px] my-1 flex items-center justify-center text-[8.65px] md:text-[9.65px]  font-semibold   leading-[21.75px]",children:[e.jsx("span",{className:"font-medium md:font-bold text-[7.65px] md:text-[9.65px]  mr-2 ",children:"ESTAS AHORRANDO"})," ","S/"," ",Number(s.price-s.discount).toFixed(0)," ",e.jsx("img",{src:"/assets/img/emojis/fire.png",className:"h-[9.88px]  inline-flex ml-2"})]})]}),e.jsx("div",{className:"w-1/6 lg:w-4/12 flex items-start justify-end",children:e.jsx("button",{className:"group text-white px-2 py-1 rounded-md hover:fill-red-500 transition-all duration-300",onClick:()=>P(s.id),children:e.jsx("div",{className:"h-10 lg:h-12 scale-x-[-1] ",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",className:"h-full w-4 lg:w-5 relative",fill:"current",children:[e.jsx("path",{className:"group-hover:-rotate-12 group-hover:absolute group-hover:inset-0 ",fill:"current",d:"M135.2 17.7C140.6 6.8 151.7 0 163.8 0L284.2 0c12.1 0 23.2 6.8 28.6 17.7L320 32l96 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 96C14.3 96 0 81.7 0 64S14.3 32 32 32l96 0 7.2-14.3z"}),e.jsx("path",{fill:"current",d:"M32 128l384 0 0 320c0 35.3-28.7 64-64 64L96 512c-35.3 0-64-28.7-64-64l0-320zm96 64c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16z"})]})})})})]}),e.jsxs("div",{className:"w-full flex",children:[e.jsx("div",{className:"w-1/2  md:w-4/6 lg:w-1/2  flex  ",children:e.jsxs("p",{className:"text-xl  items-center   font-bold text-[#5F48B7] ",children:["S/"," ",Number(s.final_price).toFixed(2)]})}),e.jsx("div",{className:"w-1/2  md:w-2/6 lg:w-1/2 h-8 ",children:e.jsxs("div",{className:" flex h-full text-[#000000]  bg-transparent border border-black items-center justify-around  rounded-[8px]  md:rounded-[10px] ",children:[e.jsx("button",{className:"w-6 h-6 text-xs md:text-base  ",onClick:()=>A(s.id),children:"-"}),e.jsx("span",{className:"h-full flex items-center text-xs md:text-base  font-medium",children:s.variations&&s.variations.length>0?s.variations.reduce((n,o)=>n+o.quantity,0):s.quantity}),e.jsx("button",{className:"w-6 h-6 text-xs md:text-base   ",onClick:()=>I(s.id),children:"+"})]})})]})]})]},t))}),N.length>0&&e.jsx("div",{className:"my-4 flex flex-col items-center gap-6",children:N.map((s,t)=>e.jsxs("div",{className:"w-full flex flex-col items-center",children:[e.jsx("div",{className:"text-start mt-2 text-black font-bold my-2",children:"¡Aprovecha esta oferta exclusiva!"}),e.jsx("img",{src:`/api/ads/media/${s.banner_image}`,alt:"Promo especial",className:"w-full max-w-md rounded-xl shadow-lg cursor-pointer",onClick:async()=>{s.offer_item&&await M({...s.offer_item,id:s.offer_item.id,quantity:1,price:s.offer_price??s.offer_item.final_price??s.offer_item.price})}})]},s.id||t))}),z>0&&e.jsxs("div",{className:"  w-full mt-8",children:[e.jsxs("div",{className:"w-full flex items-center justify-between my-6",children:[e.jsx("p",{className:"text-2xl font-bold text-black ",children:"Subtotal"}),e.jsxs("p",{className:"text-2xl font-bold text-black ",children:["S/ ",z.toFixed(2)]})]}),e.jsx("a",{href:"/checkout",className:" block text-center text-xl w-full  font-semibold rounded-[12.11px] lg:rounded-[15.11px] bg-[#FF9900] text-white py-3 hover:bg-opacity-90 hover:scale-105 transition-all duration-300",children:"IR A COMPRAR"}),e.jsx("div",{className:"mt-6 relative w-full",children:e.jsx("img",{src:"/assets/img/checkout/banner-pagos.png",className:"w-full object-cover h-auto rounded-lg shadow-lg shadow-gray-500/20      "})})]})]})})})]})]})};export{Q as G,ee as H};
